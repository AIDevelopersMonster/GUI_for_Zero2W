# Проект "Servo SG90 Controller" для Raspberry Pi

Добро пожаловать в репозиторий проекта **"Servo SG90 Controller"**! В этой части нашего пути мы разработали простое, но эффективное приложение для управления сервоприводом SG90 с помощью Raspberry Pi. Наша цель — сделать управление сервоприводом максимально наглядным и удобным через графический интерфейс.

---

## Что такое сервопривод SG90?

Прежде чем мы начнем, давайте разберемся, что такое **сервопривод SG90** и почему он так популярен в проектах робототехники и автоматизации:

* **Миниатюрный размер**: SG90 — это очень компактный и легкий сервопривод, что делает его идеальным для небольших роботов, моделей и других проектов, где важен вес и размер.
* **Управление углом**: В отличие от обычных моторов, которые просто вращаются, сервопривод позволяет точно позиционировать выходной вал под определенным углом (обычно от 0 до 180 градусов). Это достигается с помощью специального управляющего сигнала.
* **Принцип работы**: Управление SG90 осуществляется через **широтно-импульсную модуляцию (ШИМ)**. Вы отправляете ему короткие электрические импульсы, и их длительность (ширина) определяет, на какой угол повернется сервопривод. Например, импульс в 1500 микросекунд обычно устанавливает его в центральное положение (90 градусов).
* **Применение**: Эти сервоприводы широко используются в различных проектах, от поворота камер и манипуляторов роботов до управления рулевым механизмом в моделях.

---

## Что мы сделали в этом проекте?

Мы создали GTK-приложение на языке C, которое предоставляет удобный графический интерфейс для управления сервоприводом SG90. Приложение использует `pigs` — утилиту командной строки из библиотеки `pigpio` — для отправки управляющих импульсов на сервопривод.

Основные возможности нашего приложения:

* **Кнопки быстрого доступа**: Пять кнопок ("<<", "<", "Center", ">", ">>") для мгновенного перемещения сервопривода в предустановленные положения (например, крайние точки или центр).
* **Точное позиционирование с помощью ползунка**: Слайдер позволяет пользователю плавно и точно регулировать угол сервопривода в диапазоне от 0 до 180 градусов (что соответствует ширине импульса от 500 до 2500 микросекунд).
* **Интуитивный интерфейс**: Мы сосредоточились на простоте и удобстве использования, чтобы вы могли начать работу с сервоприводом максимально быстро.

---

## Схема подключения сервопривода SG90

Для работы нашего приложения необходимо правильно подключить сервопривод к вашему Raspberry Pi. Сервопривод SG90 имеет три провода:

* **Красный (VCC)**: Питание. Подключите его к пину **+5V** на Raspberry Pi.
* **Коричневый/Черный (GND)**: Земля. Подключите его к любому пину **GND** на Raspberry Pi.
* **Оранжевый/Желтый (Signal)**: Сигнальный провод. Подключите его к пину **GPIO17** на Raspberry Pi.

```text
           Raspberry Pi
              +------+
       GPIO17 --|      | (Signal - Orange/Yellow)
                  |      |
                  |      |
        +5V -----|      | (VCC - Red)
                  |      |
                  |      |
        GND -----|      | (GND - Brown/Black)
                  +------+
                      |
                      V
                  +-------+
                  | SG90  |
                  | Servo |
                  +-------+
````

**Важное примечание**: Убедитесь, что демон `pigpiod` запущен на вашем Raspberry Pi. Наш проект предполагает, что вы настроили его автоматический запуск при загрузке системы (например, через `crontab`). Если `pigpiod` не запущен, команды `pigs` не будут работать, и наше приложение не сможет управлять сервоприводом.

-----

## Как скомпилировать и запустить программу

Чтобы запустить это приложение на вашем Raspberry Pi, выполните следующие шаги:

1.  **Установите необходимые библиотеки:**
    Убедитесь, что у вас установлены библиотеки GTK+.

    ```bash
    sudo apt update
    sudo apt install libgtk-3-dev
    ```

    Также убедитесь, что утилита `pigs` (часть библиотеки `pigpio`) установлена и демон `pigpiod` запущен.

2.  **Получите исходный код:**
    Клонируйте этот репозиторий или скопируйте файл `servo_gui.c` в желаемую директорию на вашем Raspberry Pi (например, `/home/Alex/GUI4RPiZ2W/6/`).

3.  **Скомпилируйте программу:**
    Откройте терминал, перейдите в директорию с файлом `servo_gui.c` и выполните команду компиляции:

    ```bash
    gcc servo_gui.c -o servo_gui $(pkg-config --cflags --libs gtk+-3.0)
    ```

    Эта команда создаст исполняемый файл с именем `servo_gui`.

4.  **Запустите программу:**
    Теперь вы можете запустить приложение:

    ```bash
    ./servo_gui
    ```

    Если все подключено правильно и `pigpiod` работает, вы увидите окно контроллера сервопривода\!

-----

## Как создать ярлык для удобного запуска

Чтобы не запускать программу из терминала каждый раз, вы можете создать ярлык (.desktop файл), который появится в меню приложений вашего Raspberry Pi.

1.  **Создайте файл ярлыка:**
    В папке вашего проекта (например, `/home/Alex/GUI4RPiZ2W/6/`) создайте файл с именем `servo_gui.desktop` и следующим содержимым:

    ```ini
    [Desktop Entry]
    Type=Application
    Name=Servo SG90 Controller
    Comment=Control a SG90 servo via GPIO
    Exec=/home/Alex/GUI4RPiZ2W/6/servo_gui
    Icon=/home/Alex/GUI4RPiZ2W/6/servo_gui.png
    Terminal=false
    Categories=Utility;Education;Robotics;
    ```

    **Важно**:

      * Убедитесь, что путь в `Exec=` (`/home/Alex/GUI4RPiZ2W/6/servo_gui`) точно соответствует пути к вашему скомпилированному исполняемому файлу.
      * Если у вас есть файл иконки (`servo_gui.png`), убедитесь, что путь в `Icon=` (`/home/Alex/GUI4RPiZ2W/6/servo_gui.png`) верен.

2.  **Переместите и сделайте ярлык исполняемым:**
    Теперь переместите этот файл в директорию, где система ищет ярлыки приложений, и сделайте его исполняемым:

    ```bash
    mkdir -p ~/.local/share/applications/
    mv /home/Alex/GUI4RPiZ2W/5/servo_gui.desktop ~/.local/share/applications/
    chmod +x ~/.local/share/applications/servo_gui.desktop
    ```

    После выполнения этих команд ярлык "Servo SG90 Controller" должен появиться в меню приложений вашего Raspberry Pi (возможно, потребуется перезагрузка рабочего стола или системы).

-----

Надеемся, этот проект будет полезен вам в ваших экспериментах с Raspberry Pi и сервоприводами\! Если у вас есть вопросы или предложения, не стесняйтесь открывать Issues или Pull Requests.

```
```